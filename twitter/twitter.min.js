(function(f){var l=[],d,h=0,w,z=location.host.split(".").reverse(),u=z[1]+"."+z[0];f.fn.twitter=function(g){d=f.extend({},{screen_name:"huntinggirled",default_count:1,page_count:5,read_count:50,interval:1E3,reload:6E5},g);d.default_count>d.page_count&&(d.page_count=d.default_count);d.page_count>d.read_count&&(d.read_count=d.page_count);g=f(this);g.after('<div id="more_tweet" />');g.getTimeline()};f.fn.getTimeline=function(){var g={printTweet:function(b,a){var e={stripSlashes:function(c){return(c+
    "").replace(/\0/g,"0").replace(/\\([\\'"])/g,"$1")},replaceLink:function(c,q){for(var x,m=c.match(/http(s)?:\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=~#]*)?/ig),n=0;m&&n<m.length;++n){x='<a href="'+m[n]+'" target="_blank">'+m[n]+"</a>";for(var r=0;q&&r<q.length;++r)m[n]==q[r].url&&(x='<a href="'+m[n]+'" target="_blank" title="'+q[r].expanded_url+'">'+q[r].display_url+"</a>");c=c.replace(m[n],x)}c=c.replace(/[#\uff03]([^\b\s]+)/gi,function(F,t){return'<a href="https://twitter.com/search?q=%23'+encodeURI(t)+
    '" target="_blank">#'+t+"</a>"});return c=c.replace(/[@\uff20]([0-9a-zA-Z_]{1,15})/gi,function(F,t){return'<a href="https://twitter.com/#!/'+encodeURI(t)+'" target="_blank">@'+t+"</a>"})},relativeTime:function(c){return g.relativeTime(e.getDatetime(c))},getDatetime:function(c){c=c.split(" ");return Date.parse(c[1]+" "+c[2]+", "+c[5]+" "+c[3])}};if(null==a||null==a.user)return!1;var k=a.id_str,p=null!=a.user.screen_name?a.user.screen_name:"screen_name",y=null!=a.user.name?a.user.name:"name",A=null!=
    a.user.profile_image_url_https?e.stripSlashes(a.user.profile_image_url_https):"https://"+u+"/js/twitter/noimg.png",B=e.relativeTime(a.created_at),C=e.replaceLink(a.text,a.entities.urls),D=e.getDatetime(a.created_at);null!=a.retweeted_status&&(p=a.retweeted_status.user.screen_name,y=a.retweeted_status.user.name,A=null!=a.retweeted_status.user.profile_image_url_https?e.stripSlashes(a.retweeted_status.user.profile_image_url_https):"https://"+u+"/js/twitter/noimg.png",B=e.relativeTime(a.retweeted_status.created_at),
    C=e.replaceLink(a.retweeted_status.text,a.entities.urls),D=e.getDatetime(a.retweeted_status.created_at));b.append('<div class="one_tweet" style="clear:both;"><a href="https://twitter.com/#!/'+p+'" target="_blank" title="@'+p+'">'+y+'</a><br /><a href="https://twitter.com/#!/'+p+'" target="_blank" title="@'+p+'"><img src="'+A+'" alt="'+y+'" class="widget-img-thumb" /></a>'+C+' <a href="https://twitter.com/huntinggirled/status/'+k+'" target="_blank" class="ctime" data-datetime="'+D+'">'+B+'</a><br /><div class="reply" style="text-align:right;opacity:0.2;"><a href="https://twitter.com/intent/tweet?in_reply_to='+
    k+'" target="_blank">\u8fd4\u4fe1</a> <a href="https://twitter.com/intent/retweet?tweet_id='+k+'" target="_blank">\u30ea\u30c4\u30a4\u30fc\u30c8</a> <a href="https://twitter.com/intent/favorite?tweet_id='+k+'" target="_blank">\u304a\u6c17\u306b\u5165\u308a</a></div></div>');b.children(".one_tweet:last").hover(function(){f(this).children(".reply").fadeTo("normal",1)},function(){f(this).children(".reply").fadeTo("normal",.2)})},relativeTime:function(b){b/=1E3;var a=(new Date).getTime()/1E3;b=parseInt(a-
    b);b+=60*(new Date).getTimezoneOffset();return 60>b?parseInt(b).toString()+"\u79d2\u524d":3600>b?parseInt(b/60).toString()+"\u5206\u524d":86400>b?parseInt(b/3600).toString()+"\u6642\u9593\u524d":parseInt(b/86400).toString()+"\u65e5\u524d"},elapsedTime:function(b){return b.find(".ctime").each(function(){var a=f(this).html(),e=g.relativeTime(f(this).data("datetime"));a!=e&&f(this).css("opacity",0).html(e).fadeTo("normal",1)})},shiftItems:function(b){b.append('<div class="tweet" style="opacity:0.0;" />');
    b=b.children(".tweet:last");b.fadeTo("normal",1);for(var a=0;a<d.page_count&&!(g.printTweet(b,l.shift()),0>=l.length);a++);g.elapsedTime(v);f("#more_tweet").empty().append('<div style="text-align:right;"><a href="" onmouseover="$(\'#twitter\').getTimeline();return false;">[\u3055\u3089\u306b\u8aad\u307f\u8fbc\u3080]</a></div>')},eachThis:function(b){f("#more_tweet").empty().append('<div style="text-align:right;"><img src="https://'+u+'/js/twitter/indi.gif" alt="\u8aad\u307f\u8fbc\u307f\u4e2d..." width="10" height="10" /> \u8aad\u307f\u8fbc\u307f\u4e2d...</div>');
    if(1<=h&&l.length>=d.page_count)g.shiftItems(b);else{var a={screen_name:d.screen_name,count:0==h?d.default_count:d.read_count,page:0==h?++h:h++,exclude_replies:!1,include_rts:!0};f.ajax({url:"https://"+u+"/js/twitter/twittergw.php",data:a,dataType:"jsonp",callback:"twitterCallback",timeout:5E3}).done(function(e,k){if(0==h-1||1==h-1)l=[];l=l.concat(e);1==h-1&&l.splice(0,d.default_count);0==h-1&&b.empty();g.shiftItems(b)}).fail(function(e,k,p){console.log("NG:"+k.status);g.elapsedTime(b);f("#more_tweet").empty()}).always(function(e,
    k){})}}},v=f(this);g.eachThis(v);var E=(new Date).getTime();null!=w&&clearInterval(w);w=setInterval(function(){E+d.reload<(new Date).getTime()&&(h=0,g.eachThis(v),E=(new Date).getTime())},d.interval);return v}})(jQuery);